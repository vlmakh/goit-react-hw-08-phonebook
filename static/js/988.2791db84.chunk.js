"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[988],{9988:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(5861),a=t(4687),o=t.n(a),i=t(3682),s="AddForm_addForm__UFx-V",c="AddForm_addInput__MIZ9k",l="AddForm_addButton__9Nl7-",u="AddForm_mistake__oBR3u",d=t(8617),m=t(6856),x=t(5705),p=t(7103),f=t(184),h=p.Ry().shape({name:p.Z_().required(),number:p.Rx().required()});function j(e){var n=e.onFormSubmit;return(0,f.jsx)(x.J9,{onSubmit:function(e,t){var r=t.resetForm;n(e,r)},initialValues:{name:"",number:""},validationSchema:h,children:(0,f.jsx)(x.l0,{className:s,children:(0,f.jsxs)(i.x,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,f.jsxs)(i.x,{children:[(0,f.jsxs)(i.x,{display:"flex",alignItems:"center",position:"relative",children:[(0,f.jsx)(d.VcF,{}),(0,f.jsx)(x.gN,{className:c,type:"text",name:"name",placeholder:"Name"}),(0,f.jsx)(x.Bc,{component:"div",className:u,name:"name"})]}),(0,f.jsxs)(i.x,{display:"flex",alignItems:"center",mt:3,position:"relative",children:[(0,f.jsx)(d.JbR,{}),(0,f.jsx)(x.gN,{className:c,type:"tel",name:"number",placeholder:"number"}),(0,f.jsx)(x.Bc,{component:"div",className:u,name:"number"})]})]}),(0,f.jsx)("button",{type:"submit",className:l,"aria-label":"Add contact",children:(0,f.jsx)(m.yjv,{size:"40",fill:"currentColor"})})]})})})}var b="ContactList_contactItem__ppNQ5",_=t(8683),v=t(885),g="ContactItem_contactName__ZAMAK",y="ContactItem_contactNumber__Xjnxb",N="ContactItem_delButton__CkB0T",k=t(9126),C=t(9434),w=t(2791),F="Modal_overlay__r63M6",I="Modal_modal__DJDMv",S=t(4164),E=document.querySelector("#modal-root");function Z(e){var n=e.onClose,t=e.children;(0,w.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&n()};return(0,S.createPortal)((0,f.jsx)("div",{className:F,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,f.jsx)("div",{className:I,children:t})}),E)}var B="EditForm_editForm__F8rjt",L="EditForm_editInput__056c9",T="EditForm_saveButton__EKrxW",M="EditForm_mistake__mj+zr",A=p.Ry().shape({name:p.Z_().required(),number:p.Z_().required()});function R(e){var n=e.onFormSubmit,t=e.nameToUpdate,r=e.numberToUpdate;return(0,f.jsx)(x.J9,{onSubmit:function(e){n(e)},initialValues:{name:t,number:r},validationSchema:A,children:(0,f.jsx)(x.l0,{className:B,children:(0,f.jsxs)(i.x,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,f.jsxs)(i.x,{children:[(0,f.jsxs)(i.x,{display:"flex",alignItems:"center",position:"relative",children:[(0,f.jsx)(d.VcF,{}),(0,f.jsx)(x.gN,{className:L,type:"text",name:"name",placeholder:"Name"}),(0,f.jsx)(x.Bc,{component:"div",className:M,name:"name"})]}),(0,f.jsxs)(i.x,{display:"flex",alignItems:"center",mt:3,position:"relative",children:[(0,f.jsx)(d.JbR,{}),(0,f.jsx)(x.gN,{className:L,type:"tel",name:"number",placeholder:"number"}),(0,f.jsx)(x.Bc,{component:"div",className:M,name:"number"})]})]}),(0,f.jsx)("button",{type:"submit",className:T,"aria-label":"Save contact",children:(0,f.jsx)(m.tfk,{size:"40"})})]})})})}var z=t(1909);function q(e){var n=e.id,r=e.name,a=e.number,o=(0,w.useState)(!1),s=(0,v.Z)(o,2),c=s[0],l=s[1],u=(0,C.I0)(),d=function(){l(!c)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(i.x,{width:"100%",display:"flex",onClick:d,children:[(0,f.jsx)(k._Tb,{size:"18",color:"#".concat(Math.floor(16777215*Math.random()).toString(16))}),(0,f.jsx)("span",{className:g,children:r}),(0,f.jsx)("span",{className:y,children:a})]}),(0,f.jsx)("button",{type:"button",className:N,onClick:function(){return e=n,void(t.g.confirm("Delete contact?")&&u((0,z.GK)(e)));var e},"aria-label":"Delete contact",children:(0,f.jsx)(m.FH3,{size:"18"})}),(0,f.jsx)(i.x,{position:"absolute",right:"0",top:"0",children:c&&(0,f.jsx)(Z,{onClose:d,children:(0,f.jsx)(R,{onFormSubmit:function(e){u((0,z.Tk)((0,_.Z)({id:n},e))),d()},nameToUpdate:r,numberToUpdate:a})})})]})}function J(e){var n=e.contacts;return(0,f.jsx)("ul",{children:n.sort((function(e,n){return e.name.localeCompare(n.name)})).map((function(e){var n=e.id,t=e.name,r=e.number;return(0,f.jsx)("li",{className:b,children:(0,f.jsx)(q,{id:n,name:t,number:r})},n)}))})}var K="Filter_filterInput__1Cysk";function U(e){var n=e.value,t=e.onChange;return(0,f.jsx)(i.x,{p:2,children:(0,f.jsx)("input",{className:K,type:"text",name:"filter",value:n,onChange:t,placeholder:"Find contact by name"})})}var V,D=t(7689),P=t(1538),W=t(168),G=t(921).Z.button(V||(V=(0,W.Z)(["\n  cursor: pointer;\n  /* width: 100%; */\n  padding: 4px ;\n  font-size: 14px;\n  font-weight: 600;\n  border-radius: 4px;\n  border: none;\n  /* margin: 0 auto; */\n  background-color: #fcd535;\n  transition: background-color 250ms linear;\n\n  :hover,:focus {\n    background-color: #ffcc00;\n  }\n\n\n  :focus-visible {\n    outline: none;\n  }\n"])));function H(){var e=(0,C.I0)(),n=(0,C.v9)((function(e){return e.filter.filter})),t=(0,C.v9)((function(e){return e.phonebook})),a=(0,C.v9)((function(e){return e.auth.user.name})),s=(0,C.v9)((function(e){return e.auth.isLoggedIn})),c=t;(0,w.useEffect)((function(){e((0,z.K2)())}),[e]);var l=function(){var n=(0,r.Z)(o().mark((function n(t,r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))){n.next=3;break}return alert(" ".concat(t.name," is already in contacts.")),n.abrupt("return");case 3:e((0,z.uK)(t)),r();case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),u=c?c.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):"";return(0,f.jsxs)(f.Fragment,{children:[!s&&(0,f.jsx)(D.Fg,{to:"/"}),(0,f.jsxs)(i.x,{width:"320px",mx:"auto",position:"relative",children:[(0,f.jsxs)(i.x,{px:2,pb:2,display:"flex",justifyContent:"space-between",children:[(0,f.jsxs)("h4",{children:["Welcome, ",a]}),(0,f.jsx)(G,{type:"button",onClick:function(){return e((0,z.kS)())},children:"Logout"})]}),(0,f.jsx)(j,{onFormSubmit:l}),(0,f.jsxs)(i.x,{py:2,mt:2,border:"1px solid #212121",borderRadius:3,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.8)",backgroundColor:"white",children:[(0,f.jsx)(U,{value:n,onChange:function(n){e((0,P.sP)(n.currentTarget.value))}}),(0,f.jsx)(J,{contacts:null!==u&&void 0!==u?u:[]})]})]})]})}}}]);
//# sourceMappingURL=988.2791db84.chunk.js.map